services:
  netmon:
    build: .
    container_name: docker-netmon
    restart: unless-stopped
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    ports:
      - "8089:8080"
    # Default command is 'web' (dashboard), alternatives:
    # command: watch          # CLI watch mode with alerts
    # command: scan --quiet   # One-time scan
    command: web --port 8080
    # Uncomment and configure for alerting (used by 'watch' command):
    # environment:
    #   - NETMON_ALERT_URL=https://ntfy.sh/your-topic
    #   - NETMON_ALERT_TYPE=ntfy
    # For Gotify:
    #   - NETMON_ALERT_URL=https://gotify.example.com
    #   - NETMON_ALERT_TYPE=gotify
    #   - NETMON_GOTIFY_TOKEN=your-app-token
